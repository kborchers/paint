/*! AeroGear JavaScript Library - v1.3.0-dev - 2013-10-08
* https://github.com/aerogear/aerogear-js
* JBoss, Home of Professional Open Source
* Copyright Red Hat, Inc., and individual contributors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
* http://www.apache.org/licenses/LICENSE-2.0
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
(function(e,t){function r(e,t,r){if(4!==t.length)throw new h.exception.invalid("invalid aes block size");var i=e.c[r],n=t[0]^i[0],s=t[r?3:1]^i[1],a=t[2]^i[2];t=t[r?1:3]^i[3];var o,c,u,f,l=i.length/4-2,d=4,p=[0,0,0,0];o=e.n[r],e=o[0];var g=o[1],m=o[2],b=o[3],y=o[4];for(f=0;l>f;f++)o=e[n>>>24]^g[255&s>>16]^m[255&a>>8]^b[255&t]^i[d],c=e[s>>>24]^g[255&a>>16]^m[255&t>>8]^b[255&n]^i[d+1],u=e[a>>>24]^g[255&t>>16]^m[255&n>>8]^b[255&s]^i[d+2],t=e[t>>>24]^g[255&n>>16]^m[255&s>>8]^b[255&a]^i[d+3],d+=4,n=o,s=c,a=u;for(f=0;4>f;f++)p[r?3&-f:f]=y[n>>>24]<<24^y[255&s>>16]<<16^y[255&a>>8]<<8^y[255&t]^i[d++],o=n,n=s,s=a,a=t,t=o;return p}function i(e,t){var r,i,n,s=t.slice(0),a=e.u,o=e.c,c=a[0],u=a[1],h=a[2],f=a[3],l=a[4],d=a[5],p=a[6],g=a[7];for(r=0;64>r;r++)16>r?i=s[r]:(i=s[15&r+1],n=s[15&r+14],i=s[15&r]=0|(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(n>>>17^n>>>19^n>>>10^n<<15^n<<13)+s[15&r]+s[15&r+9]),i=i+g+(l>>>6^l>>>11^l>>>25^l<<26^l<<21^l<<7)+(p^l&(d^p))+o[r],g=p,p=d,d=l,l=0|f+i,f=h,h=u,u=c,c=0|i+(u&h^f&(u^h))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10);a[0]=0|a[0]+c,a[1]=0|a[1]+u,a[2]=0|a[2]+h,a[3]=0|a[3]+f,a[4]=0|a[4]+l,a[5]=0|a[5]+d,a[6]=0|a[6]+p,a[7]=0|a[7]+g}function n(e,t){var r,i=h.random.F[e],n=[];for(r in i)i.hasOwnProperty(r)&&n.push(i[r]);for(r=0;n.length>r;r++)n[r](t)}function s(e){e.c=a(e).concat(a(e)),e.H=new h.cipher.aes(e.c)}function a(e){for(var t=0;4>t&&(e.h[t]=0|e.h[t]+1,!e.h[t]);t++);return e.H.encrypt(e.h)}this.AeroGear={},AeroGear.Core=function(){if(this instanceof AeroGear.Core)throw"Invalid instantiation of base class AeroGear.Core";this.add=function(e){var t,r,i=this[this.collectionName]||{};if(this[this.collectionName]=i,!e)return this;if("string"==typeof e)i[e]=AeroGear[this.lib].adapters[this.type](e,this.config);else if(AeroGear.isArray(e))for(t=0;e.length>t;t++)r=e[t],"string"==typeof r?i[r]=AeroGear[this.lib].adapters[this.type](r,this.config):r.name&&(r.settings=AeroGear.extend(r.settings||{},this.config),r.settings.recordId=r.settings.recordId||r.recordId,i[r.name]=AeroGear[this.lib].adapters[r.type||this.type](r.name,r.settings));else{if(!e.name)return this;e.settings=AeroGear.extend(e.settings||{},this.config),e.settings.recordId=e.settings.recordId||e.recordId,i[e.name]=AeroGear[this.lib].adapters[e.type||this.type](e.name,e.settings)}return this[this.collectionName]=i,this},this.remove=function(e){var t,r,i=this[this.collectionName]||{};if("string"==typeof e)delete i[e];else if(AeroGear.isArray(e))for(t=0;e.length>t;t++)r=e[t],"string"==typeof r?delete i[r]:delete i[r.name];else e&&delete i[e.name];return this[this.collectionName]=i,this}},AeroGear.isArray=function(e){return"[object Array]"==={}.toString.call(e)},AeroGear.extend=function(e,t){var r;for(r in t)e[r]=t[r];return e},function(){function e(e,t,r){var i=t&&r||0,n=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>n&&(t[i+n++]=g[e])});16>n;)t[i+n++]=0;return t}function t(e,t){var r=t||0,i=p;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}function r(e,r,i){var n=r&&i||0,s=r||[];e=e||{};var a=null!=e.clockseq?e.clockseq:v,o=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:x+1,u=o-A+(c-x)/1e4;if(0>u&&null==e.clockseq&&(a=16383&a+1),(0>u||o>A)&&null==e.nsecs&&(c=0),c>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");A=o,x=c,v=a,o+=122192928e5;var h=(1e4*(268435455&o)+c)%4294967296;s[n++]=255&h>>>24,s[n++]=255&h>>>16,s[n++]=255&h>>>8,s[n++]=255&h;var f=268435455&1e4*(o/4294967296);s[n++]=255&f>>>8,s[n++]=255&f,s[n++]=16|15&f>>>24,s[n++]=255&f>>>16,s[n++]=128|a>>>8,s[n++]=255&a;for(var l=e.node||y,d=0;6>d;d++)s[n+d]=l[d];return r?r:t(s)}function i(e,r,i){var n=r&&i||0;"string"==typeof e&&(r="binary"==e?new d(16):null,e=null),e=e||{};var s=e.random||(e.rng||l)();if(s[6]=64|15&s[6],s[8]=128|63&s[8],r)for(var a=0;16>a;a++)r[n+a]=s[a];return r||t(s)}var n,s,a,o=this,c=Array(16);if(n=function(){for(var e,e,t=c,r=0,r=0;16>r;r++)0==(3&r)&&(e=4294967296*Math.random()),t[r]=255&e>>>((3&r)<<3);return t},o.crypto&&crypto.getRandomValues){var u=new Uint32Array(4);a=function(){crypto.getRandomValues(u);for(var e=0;16>e;e++)c[e]=255&u[e>>2]>>>8*(3&e);return c}}try{var h=require("crypto").randomBytes;s=h&&function(){return h(16)}}catch(f){}for(var l=s||a||n,d="function"==typeof Buffer?Buffer:Array,p=[],g={},m=0;256>m;m++)p[m]=(m+256).toString(16).substr(1),g[p[m]]=m;var b=l(),y=[1|b[0],b[1],b[2],b[3],b[4],b[5]],v=16383&(b[6]<<8|b[7]),A=0,x=0,w=i;if(w.v1=r,w.v4=i,w.parse=e,w.unparse=t,w.BufferClass=d,w.mathRNG=n,w.nodeRNG=s,w.whatwgRNG=a,"undefined"!=typeof module)module.exports=w;else{var C=o.uuid;w.noConflict=function(){return o.uuid=C,w},o.uuid=w}}(),function(){var r=e!==t?e:exports,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=function(){try{document.createElement("$")}catch(e){return e}}();r.btoa||(r.btoa=function(e){for(var t,r,s=0,a=i,o="";e.charAt(0|s)||(a="=",s%1);o+=a.charAt(63&t>>8-8*(s%1))){if(r=e.charCodeAt(s+=.75),r>255)throw n;t=t<<8|r}return o}),r.atob||(r.atob=function(e){if(e=e.replace(/=+$/,""),1==e.length%4)throw n;for(var t,r,s=0,a=0,o="";r=e.charAt(a++);~r&&(t=s%4?64*t+r:r,s++%4)?o+=String.fromCharCode(255&t>>(6&-2*s)):0)r=i.indexOf(r);return o})}();var o=void 0,c=!0,u=!1,h={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(e){this.toString=function(){return"CORRUPT: "+this.message},this.message=e},invalid:function(e){this.toString=function(){return"INVALID: "+this.message},this.message=e},bug:function(e){this.toString=function(){return"BUG: "+this.message},this.message=e},notReady:function(e){this.toString=function(){return"NOT READY: "+this.message},this.message=e}}};"undefined"!=typeof module&&module.exports&&(module.exports=h),h.cipher.aes=function(e){this.n[0][0][0]||this.K();var t,r,i,n,s=this.n[0][4],a=this.n[1];t=e.length;var o=1;if(4!==t&&6!==t&&8!==t)throw new h.exception.invalid("invalid aes key size");for(this.c=[i=e.slice(0),n=[]],e=t;4*t+28>e;e++)r=i[e-1],(0===e%t||8===t&&4===e%t)&&(r=s[r>>>24]<<24^s[255&r>>16]<<16^s[255&r>>8]<<8^s[255&r],0===e%t&&(r=r<<8^r>>>24^o<<24,o=o<<1^283*(o>>7))),i[e]=i[e-t]^r;for(t=0;e;t++,e--)r=i[3&t?e:e-4],n[t]=4>=e||4>t?r:a[0][s[r>>>24]]^a[1][s[255&r>>16]]^a[2][s[255&r>>8]]^a[3][s[255&r]]},h.cipher.aes.prototype={encrypt:function(e){return r(this,e,0)},decrypt:function(e){return r(this,e,1)},n:[[[],[],[],[],[]],[[],[],[],[],[]]],K:function(){var e,t,r,i,n,s,a,o=this.n[0],c=this.n[1],u=o[4],h=c[4],f=[],l=[];for(e=0;256>e;e++)l[(f[e]=e<<1^283*(e>>7))^e]=e;for(t=r=0;!u[t];t^=i||1,r=l[r]||1)for(s=r^r<<1^r<<2^r<<3^r<<4,s=99^(s>>8^255&s),u[t]=s,h[s]=t,n=f[e=f[i=f[t]]],a=16843009*n^65537*e^257*i^16843008*t,n=257*f[s]^16843008*s,e=0;4>e;e++)o[e][t]=n=n<<24^n>>>8,c[e][s]=a=a<<24^a>>>8;for(e=0;5>e;e++)o[e]=o[e].slice(0),c[e]=c[e].slice(0)}},h.bitArray={bitSlice:function(e,t,r){return e=h.bitArray.U(e.slice(t/32),32-(31&t)).slice(1),r===o?e:h.bitArray.clamp(e,r-t)},extract:function(e,t,r){var i=Math.floor(31&-t-r);return(-32&(t+r-1^t)?e[0|t/32]<<32-i^e[0|t/32+1]>>>i:e[0|t/32]>>>i)&(1<<r)-1},concat:function(e,t){if(0===e.length||0===t.length)return e.concat(t);var r=e[e.length-1],i=h.bitArray.getPartial(r);return 32===i?e.concat(t):h.bitArray.U(t,i,0|r,e.slice(0,e.length-1))},bitLength:function(e){var t=e.length;return 0===t?0:32*(t-1)+h.bitArray.getPartial(e[t-1])},clamp:function(e,t){if(t>32*e.length)return e;e=e.slice(0,Math.ceil(t/32));var r=e.length;return t&=31,r>0&&t&&(e[r-1]=h.bitArray.partial(t,e[r-1]&2147483648>>t-1,1)),e},partial:function(e,t,r){return 32===e?t:(r?0|t:t<<32-e)+1099511627776*e},getPartial:function(e){return Math.round(e/1099511627776)||32},equal:function(e,t){if(h.bitArray.bitLength(e)!==h.bitArray.bitLength(t))return u;var r,i=0;for(r=0;e.length>r;r++)i|=e[r]^t[r];return 0===i},U:function(e,t,r,i){var n;for(n=0,i===o&&(i=[]);t>=32;t-=32)i.push(r),r=0;if(0===t)return i.concat(e);for(n=0;e.length>n;n++)i.push(r|e[n]>>>t),r=e[n]<<32-t;return n=e.length?e[e.length-1]:0,e=h.bitArray.getPartial(n),i.push(h.bitArray.partial(31&t+e,t+e>32?r:i.pop(),1)),i},ba:function(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}},h.codec.utf8String={fromBits:function(e){var t,r,i="",n=h.bitArray.bitLength(e);for(t=0;n/8>t;t++)0===(3&t)&&(r=e[t/4]),i+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(i))},toBits:function(e){e=unescape(encodeURIComponent(e));var t,r=[],i=0;for(t=0;e.length>t;t++)i=i<<8|e.charCodeAt(t),3===(3&t)&&(r.push(i),i=0);return 3&t&&r.push(h.bitArray.partial(8*(3&t),i)),r}},h.codec.hex={fromBits:function(e){var t,r="";for(t=0;e.length>t;t++)r+=((0|e[t])+0xf00000000000).toString(16).substr(4);return r.substr(0,h.bitArray.bitLength(e)/4)},toBits:function(e){var t,r,i=[];for(e=e.replace(/\s|0x/g,""),r=e.length,e+="00000000",t=0;e.length>t;t+=8)i.push(0^parseInt(e.substr(t,8),16));return h.bitArray.clamp(i,4*r)}},h.hash.sha256=function(e){this.c[0]||this.K(),e?(this.u=e.u.slice(0),this.p=e.p.slice(0),this.k=e.k):this.reset()},h.hash.sha256.hash=function(e){return(new h.hash.sha256).update(e).finalize()},h.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.R.slice(0),this.p=[],this.k=0,this},update:function(e){"string"==typeof e&&(e=h.codec.utf8String.toBits(e));var t,r=this.p=h.bitArray.concat(this.p,e);for(t=this.k,e=this.k=t+h.bitArray.bitLength(e),t=-512&512+t;e>=t;t+=512)i(this,r.splice(0,16));return this},finalize:function(){var e,t=this.p,r=this.u,t=h.bitArray.concat(t,[h.bitArray.partial(1,1)]);for(e=t.length+2;15&e;e++)t.push(0);for(t.push(Math.floor(this.k/4294967296)),t.push(0|this.k);t.length;)i(this,t.splice(0,16));return this.reset(),r},R:[],c:[],K:function(){function e(e){return 0|4294967296*(e-Math.floor(e))}var t,r=0,i=2;e:for(;64>r;i++){for(t=2;i>=t*t;t++)if(0===i%t)continue e;8>r&&(this.R[r]=e(Math.pow(i,.5))),this.c[r]=e(Math.pow(i,1/3)),r++}}},h.mode.gcm={name:"gcm",encrypt:function(e,t,r,i,n){var s=t.slice(0);return t=h.bitArray,i=i||[],e=h.mode.gcm.O(c,e,s,i,r,n||128),t.concat(e.data,e.tag)},decrypt:function(e,t,r,i,n){var s=t.slice(0),a=h.bitArray,o=a.bitLength(s);if(n=n||128,i=i||[],o>=n?(t=a.bitSlice(s,o-n),s=a.bitSlice(s,0,o-n)):(t=s,s=[]),e=h.mode.gcm.O(u,e,s,i,r,n),!a.equal(e.tag,t))throw new h.exception.corrupt("gcm: tag doesn't match");return e.data},aa:function(e,t){var r,i,n,s,a,o=h.bitArray.ba;for(n=[0,0,0,0],s=t.slice(0),r=0;128>r;r++){for((i=0!==(e[Math.floor(r/32)]&1<<31-r%32))&&(n=o(n,s)),a=0!==(1&s[3]),i=3;i>0;i--)s[i]=s[i]>>>1|(1&s[i-1])<<31;s[0]>>>=1,a&&(s[0]^=-520093696)}return n},j:function(e,t,r){var i,n=r.length;for(t=t.slice(0),i=0;n>i;i+=4)t[0]^=4294967295&r[i],t[1]^=4294967295&r[i+1],t[2]^=4294967295&r[i+2],t[3]^=4294967295&r[i+3],t=h.mode.gcm.aa(t,e);return t},O:function(e,t,r,i,n,s){var a,o,c,u,f,l,d,p,g=h.bitArray;for(l=r.length,d=g.bitLength(r),p=g.bitLength(i),o=g.bitLength(n),a=t.encrypt([0,0,0,0]),96===o?(n=n.slice(0),n=g.concat(n,[1])):(n=h.mode.gcm.j(a,[0,0,0,0],n),n=h.mode.gcm.j(a,n,[0,0,Math.floor(o/4294967296),4294967295&o])),o=h.mode.gcm.j(a,[0,0,0,0],i),f=n.slice(0),i=o.slice(0),e||(i=h.mode.gcm.j(a,o,r)),u=0;l>u;u+=4)f[3]++,c=t.encrypt(f),r[u]^=c[0],r[u+1]^=c[1],r[u+2]^=c[2],r[u+3]^=c[3];return r=g.clamp(r,d),e&&(i=h.mode.gcm.j(a,o,r)),e=[Math.floor(p/4294967296),4294967295&p,Math.floor(d/4294967296),4294967295&d],i=h.mode.gcm.j(a,i,e),c=t.encrypt(n),i[0]^=c[0],i[1]^=c[1],i[2]^=c[2],i[3]^=c[3],{tag:g.bitSlice(i,0,s),data:r}}},h.misc.hmac=function(e,t){this.Q=t=t||h.hash.sha256;var r,i=[[],[]],n=t.prototype.blockSize/32;for(this.q=[new t,new t],e.length>n&&(e=t.hash(e)),r=0;n>r;r++)i[0][r]=909522486^e[r],i[1][r]=1549556828^e[r];this.q[0].update(i[0]),this.q[1].update(i[1])},h.misc.hmac.prototype.encrypt=h.misc.hmac.prototype.mac=function(e){return e=new this.Q(this.q[0]).update(e).finalize(),new this.Q(this.q[1]).update(e).finalize()},h.misc.pbkdf2=function(e,t,r,i,n){if(r=r||1e3,0>i||0>r)throw h.exception.invalid("invalid params to pbkdf2");"string"==typeof e&&(e=h.codec.utf8String.toBits(e)),"string"==typeof t&&(t=h.codec.utf8String.toBits(t)),n=n||h.misc.hmac,e=new n(e);var s,a,o,c,u=[],f=h.bitArray;for(c=1;(i||1)>32*u.length;c++){for(n=s=e.encrypt(f.concat(t,[c])),a=1;r>a;a++)for(s=e.encrypt(s),o=0;s.length>o;o++)n[o]^=s[o];u=u.concat(n)}return i&&(u=f.clamp(u,i)),u},h.prng=function(e){this.e=[new h.hash.sha256],this.l=[0],this.L=0,this.B={},this.J=0,this.N={},this.T=this.g=this.m=this.$=0,this.c=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.H=o,this.I=e,this.s=u,this.F={progress:{},seeded:{}},this.o=this.Z=0,this.C=1,this.D=2,this.X=65536,this.M=[0,48,64,96,128,192,256,384,512,768,1024],this.Y=3e4,this.W=80},h.prng.prototype={randomWords:function(e,t){var r,i=[];r=this.isReady(t);var n;if(r===this.o)throw new h.exception.notReady("generator isn't seeded");if(r&this.D){r=!(r&this.C),n=[];var o,c=0;for(this.T=n[0]=(new Date).valueOf()+this.Y,o=0;16>o;o++)n.push(0|4294967296*Math.random());for(o=0;this.e.length>o&&(n=n.concat(this.e[o].finalize()),c+=this.l[o],this.l[o]=0,!(!r&&this.L&1<<o));o++);for(this.L>=1<<this.e.length&&(this.e.push(new h.hash.sha256),this.l.push(0)),this.g-=c,c>this.m&&(this.m=c),this.L++,this.c=h.hash.sha256.hash(this.c.concat(n)),this.H=new h.cipher.aes(this.c),r=0;4>r&&(this.h[r]=0|this.h[r]+1,!this.h[r]);r++);}for(r=0;e>r;r+=4)0===(r+1)%this.X&&s(this),n=a(this),i.push(n[0],n[1],n[2],n[3]);return s(this),i.slice(0,e)},setDefaultParanoia:function(e){this.I=e},addEntropy:function(e,t,r){r=r||"user";var i,s,a=(new Date).valueOf(),c=this.B[r],u=this.isReady(),f=0;switch(i=this.N[r],i===o&&(i=this.N[r]=this.$++),c===o&&(c=this.B[r]=0),this.B[r]=(this.B[r]+1)%this.e.length,typeof e){case"number":t===o&&(t=1),this.e[c].update([i,this.J++,1,t,a,1,0|e]);break;case"object":if(r=Object.prototype.toString.call(e),"[object Uint32Array]"===r){for(s=[],r=0;e.length>r;r++)s.push(e[r]);e=s}else for("[object Array]"!==r&&(f=1),r=0;e.length>r&&!f;r++)"number"!=typeof e[r]&&(f=1);if(!f){if(t===o)for(r=t=0;e.length>r;r++)for(s=e[r];s>0;)t++,s>>>=1;this.e[c].update([i,this.J++,2,t,a,e.length].concat(e))}break;case"string":t===o&&(t=e.length),this.e[c].update([i,this.J++,3,t,a,e.length]),this.e[c].update(e);break;default:f=1}if(f)throw new h.exception.bug("random: addEntropy only supports number, array of numbers or string");this.l[c]+=t,this.g+=t,u===this.o&&(this.isReady()!==this.o&&n("seeded",Math.max(this.m,this.g)),n("progress",this.getProgress()))},isReady:function(e){return e=this.M[e!==o?e:this.I],this.m&&this.m>=e?this.l[0]>this.W&&(new Date).valueOf()>this.T?this.D|this.C:this.C:this.g>=e?this.D|this.o:this.o},getProgress:function(e){return e=this.M[e?e:this.I],this.m>=e?1:this.g>e?1:this.g/e},startCollectors:function(){if(!this.s){if(e.addEventListener)e.addEventListener("load",this.v,u),e.addEventListener("mousemove",this.w,u);else{if(!document.attachEvent)throw new h.exception.bug("can't attach event");document.attachEvent("onload",this.v),document.attachEvent("onmousemove",this.w)}this.s=c}},stopCollectors:function(){this.s&&(e.removeEventListener?(e.removeEventListener("load",this.v,u),e.removeEventListener("mousemove",this.w,u)):e.detachEvent&&(e.detachEvent("onload",this.v),e.detachEvent("onmousemove",this.w)),this.s=u)},addEventListener:function(e,t){this.F[e][this.Z++]=t},removeEventListener:function(e,t){var r,i,n=this.F[e],s=[];for(i in n)n.hasOwnProperty(i)&&n[i]===t&&s.push(i);for(r=0;s.length>r;r++)i=s[r],delete n[i]},w:function(e){h.random.addEntropy([e.x||e.clientX||e.offsetX||0,e.y||e.clientY||e.offsetY||0],2,"mouse")},v:function(){h.random.addEntropy((new Date).valueOf(),2,"loadtime")}},h.random=new h.prng(6);try{if("undefined"!=typeof module&&module.exports){var f=require("crypto").randomBytes(128);h.random.addEntropy(f,1024,"crypto['randomBytes']")}else if(e&&e.crypto&&e.crypto.getRandomValues){var l=new Uint32Array(32);e.crypto.getRandomValues(l),h.random.addEntropy(l,1024,"crypto['getRandomValues']")}}catch(d){}h.bn=function(e){this.initWith(e)},h.bn.prototype={radix:24,maxMul:8,d:h.bn,copy:function(){return new this.d(this)},initWith:function(e){var t,r=0;switch(typeof e){case"object":this.limbs=e.limbs.slice(0);break;case"number":this.limbs=[e],this.normalize();break;case"string":for(e=e.replace(/^0x/,""),this.limbs=[],t=this.radix/4,r=0;e.length>r;r+=t)this.limbs.push(parseInt(e.substring(Math.max(e.length-r-t,0),e.length-r),16));break;default:this.limbs=[0]}return this},equals:function(e){"number"==typeof e&&(e=new this.d(e));var t,r=0;for(this.fullReduce(),e.fullReduce(),t=0;this.limbs.length>t||e.limbs.length>t;t++)r|=this.getLimb(t)^e.getLimb(t);return 0===r},getLimb:function(e){return e>=this.limbs.length?0:this.limbs[e]},greaterEquals:function(e){"number"==typeof e&&(e=new this.d(e));var t,r,i,n=0,s=0;for(t=Math.max(this.limbs.length,e.limbs.length)-1;t>=0;t--)r=this.getLimb(t),i=e.getLimb(t),s|=i-r&~n,n|=r-i&~s;return(s|~n)>>>31},toString:function(){this.fullReduce();var e,t,r="",i=this.limbs;for(e=0;this.limbs.length>e;e++){for(t=i[e].toString(16);this.limbs.length-1>e&&6>t.length;)t="0"+t;r=t+r}return"0x"+r},addM:function(e){"object"!=typeof e&&(e=new this.d(e));var t=this.limbs,r=e.limbs;for(e=t.length;r.length>e;e++)t[e]=0;for(e=0;r.length>e;e++)t[e]+=r[e];return this},doubleM:function(){var e,t,r=0,i=this.radix,n=this.radixMask,s=this.limbs;for(e=0;s.length>e;e++)t=s[e],t=t+t+r,s[e]=t&n,r=t>>i;return r&&s.push(r),this},halveM:function(){var e,t,r=0,i=this.radix,n=this.limbs;for(e=n.length-1;e>=0;e--)t=n[e],n[e]=t+r>>1,r=(1&t)<<i;return n[n.length-1]||n.pop(),this},subM:function(e){"object"!=typeof e&&(e=new this.d(e));var t=this.limbs,r=e.limbs;for(e=t.length;r.length>e;e++)t[e]=0;for(e=0;r.length>e;e++)t[e]-=r[e];return this},mod:function(e){var t=!this.greaterEquals(new h.bn(0));e=new h.bn(e).normalize();var r=new h.bn(this).normalize(),i=0;for(t&&(r=new h.bn(0).subM(r).normalize());r.greaterEquals(e);i++)e.doubleM();for(t&&(r=e.sub(r).normalize());i>0;i--)e.halveM(),r.greaterEquals(e)&&r.subM(e).normalize();return r.trim()},inverseMod:function(e){var t,r=new h.bn(1),i=new h.bn(0),n=new h.bn(this),s=new h.bn(e),a=1;if(!(1&e.limbs[0]))throw new h.exception.invalid("inverseMod: p must be odd");do for(1&n.limbs[0]&&(n.greaterEquals(s)||(t=n,n=s,s=t,t=r,r=i,i=t),n.subM(s),n.normalize(),r.greaterEquals(i)||r.addM(e),r.subM(i)),n.halveM(),1&r.limbs[0]&&r.addM(e),r.normalize(),r.halveM(),t=a=0;n.limbs.length>t;t++)a|=n.limbs[t];while(a);if(!s.equals(1))throw new h.exception.invalid("inverseMod: p and x must be relatively prime");return i},add:function(e){return this.copy().addM(e)},sub:function(e){return this.copy().subM(e)},mul:function(e){"number"==typeof e&&(e=new this.d(e));var t,r,i=this.limbs,n=e.limbs,s=i.length,a=n.length,o=new this.d,c=o.limbs,u=this.maxMul;for(t=0;this.limbs.length+e.limbs.length+1>t;t++)c[t]=0;for(t=0;s>t;t++){for(r=i[t],e=0;a>e;e++)c[t+e]+=r*n[e];--u||(u=this.maxMul,o.cnormalize())}return o.cnormalize().reduce()},square:function(){return this.mul(this)},power:function(e){"number"==typeof e?e=[e]:e.limbs!==o&&(e=e.normalize().limbs);var t,r,i=new this.d(1),n=this;for(t=0;e.length>t;t++)for(r=0;this.radix>r;r++)e[t]&1<<r&&(i=i.mul(n)),n=n.square();return i},mulmod:function(e,t){return this.mod(t).mul(e.mod(t)).mod(t)},powermod:function(e,t){for(var r=new h.bn(1),i=new h.bn(this),n=new h.bn(e);1&n.limbs[0]&&(r=r.mulmod(i,t)),n.halveM(),!n.equals(0);)i=i.mulmod(i,t);return r.normalize().reduce()},trim:function(){var e,t=this.limbs;do e=t.pop();while(t.length&&0===e);return t.push(e),this},reduce:function(){return this},fullReduce:function(){return this.normalize()},normalize:function(){var e,t,r=0,i=this.ipv,n=this.limbs,s=n.length,a=this.radixMask;for(e=0;s>e||0!==r&&-1!==r;e++)r=(n[e]||0)+r,t=n[e]=r&a,r=(r-t)*i;return-1===r&&(n[e-1]-=this.placeVal),this},cnormalize:function(){var e,t,r=0,i=this.ipv,n=this.limbs,s=n.length,a=this.radixMask;for(e=0;s-1>e;e++)r=n[e]+r,t=n[e]=r&a,r=(r-t)*i;return n[e]+=r,this},toBits:function(e){this.fullReduce(),e=e||this.exponent||this.bitLength();var t=Math.floor((e-1)/24),r=h.bitArray,i=[r.partial((-8&e+7)%this.radix||this.radix,this.getLimb(t))];for(t--;t>=0;t--)i=r.concat(i,[r.partial(Math.min(this.radix,e),this.getLimb(t))]),e-=this.radix;return i},bitLength:function(){this.fullReduce();for(var e=this.radix*(this.limbs.length-1),t=this.limbs[this.limbs.length-1];t;t>>>=1)e++;return-8&e+7}},h.bn.fromBits=function(e){var t=new this,r=[],i=h.bitArray,n=this.prototype,s=Math.min(this.bitLength||4294967296,i.bitLength(e)),a=s%n.radix||n.radix;for(r[0]=i.extract(e,0,a);s>a;a+=n.radix)r.unshift(i.extract(e,a,n.radix));return t.limbs=r,t},h.bn.prototype.ipv=1/(h.bn.prototype.placeVal=Math.pow(2,h.bn.prototype.radix)),h.bn.prototype.radixMask=(1<<h.bn.prototype.radix)-1,h.bn.pseudoMersennePrime=function(e,t){function r(e){this.initWith(e)}var i,n,s=r.prototype=new h.bn;for(i=s.modOffset=Math.ceil(n=e/s.radix),s.exponent=e,s.offset=[],s.factor=[],s.minOffset=i,s.fullMask=0,s.fullOffset=[],s.fullFactor=[],s.modulus=r.modulus=new h.bn(Math.pow(2,e)),s.fullMask=0|-Math.pow(2,e%s.radix),i=0;t.length>i;i++)s.offset[i]=Math.floor(t[i][0]/s.radix-n),s.fullOffset[i]=Math.ceil(t[i][0]/s.radix-n),s.factor[i]=t[i][1]*Math.pow(.5,e-t[i][0]+s.offset[i]*s.radix),s.fullFactor[i]=t[i][1]*Math.pow(.5,e-t[i][0]+s.fullOffset[i]*s.radix),s.modulus.addM(new h.bn(Math.pow(2,t[i][0])*t[i][1])),s.minOffset=Math.min(s.minOffset,-s.offset[i]);return s.d=r,s.modulus.cnormalize(),s.reduce=function(){var e,t,r,i,n=this.modOffset,s=this.limbs,a=this.offset,o=this.offset.length,c=this.factor;for(e=this.minOffset;s.length>n;){for(r=s.pop(),i=s.length,t=0;o>t;t++)s[i+a[t]]-=c[t]*r;e--,e||(s.push(0),this.cnormalize(),e=this.minOffset)}return this.cnormalize(),this},s.V=-1===s.fullMask?s.reduce:function(){var e,t,r=this.limbs,i=r.length-1;if(this.reduce(),i===this.modOffset-1){for(t=r[i]&this.fullMask,r[i]-=t,e=0;this.fullOffset.length>e;e++)r[i+this.fullOffset[e]]-=this.fullFactor[e]*t;this.normalize()}},s.fullReduce=function(){var e,t;for(this.V(),this.addM(this.modulus),this.addM(this.modulus),this.normalize(),this.V(),t=this.limbs.length;this.modOffset>t;t++)this.limbs[t]=0;for(e=this.greaterEquals(this.modulus),t=0;this.limbs.length>t;t++)this.limbs[t]-=this.modulus.limbs[t]*e;return this.cnormalize(),this},s.inverse=function(){return this.power(this.modulus.sub(2))},r.fromBits=h.bn.fromBits,r};var p=h.bn.pseudoMersennePrime;h.bn.prime={p127:p(127,[[0,-1]]),p25519:p(255,[[0,-19]]),p192k:p(192,[[32,-1],[12,-1],[8,-1],[7,-1],[6,-1],[3,-1],[0,-1]]),p224k:p(224,[[32,-1],[12,-1],[11,-1],[9,-1],[7,-1],[4,-1],[1,-1],[0,-1]]),p256k:p(256,[[32,-1],[9,-1],[8,-1],[7,-1],[6,-1],[4,-1],[0,-1]]),p192:p(192,[[0,-1],[64,-1]]),p224:p(224,[[0,1],[96,-1]]),p256:p(256,[[0,-1],[96,1],[192,1],[224,-1]]),p384:p(384,[[0,-1],[32,1],[96,-1],[128,-1]]),p521:p(521,[[0,-1]])},h.bn.random=function(e,t){"object"!=typeof e&&(e=new h.bn(e));for(var r,i,n=e.limbs.length,s=e.limbs[n-1]+1,a=new h.bn;;){do r=h.random.randomWords(n,t),0>r[n-1]&&(r[n-1]+=4294967296);while(Math.floor(r[n-1]/s)===Math.floor(4294967296/s));for(r[n-1]%=s,i=0;n-1>i;i++)r[i]&=e.radixMask;if(a.limbs=r,!a.greaterEquals(e))return a}},h.ecc={},h.ecc.point=function(e,t,r){t===o?this.isIdentity=c:(this.x=t,this.y=r,this.isIdentity=u),this.curve=e},h.ecc.point.prototype={toJac:function(){return new h.ecc.pointJac(this.curve,this.x,this.y,new this.curve.field(1))},mult:function(e){return this.toJac().mult(e,this).toAffine()},mult2:function(e,t,r){return this.toJac().mult2(e,this,t,r).toAffine()},multiples:function(){var e,t,r;if(this.S===o)for(r=this.toJac().doubl(),e=this.S=[new h.ecc.point(this.curve),this,r.toAffine()],t=3;16>t;t++)r=r.add(this),e.push(r.toAffine());return this.S},isValid:function(){return this.y.square().equals(this.curve.b.add(this.x.mul(this.curve.a.add(this.x.square()))))},toBits:function(){return h.bitArray.concat(this.x.toBits(),this.y.toBits())}},h.ecc.pointJac=function(e,t,r,i){t===o?this.isIdentity=c:(this.x=t,this.y=r,this.z=i,this.isIdentity=u),this.curve=e},h.ecc.pointJac.prototype={add:function(e){var t,r,i,n;if(this.curve!==e.curve)throw"sjcl['ecc']['add'](): Points must be on the same curve to add them!";return this.isIdentity?e.toJac():e.isIdentity?this:(t=this.z.square(),r=e.x.mul(t).subM(this.x),r.equals(0)?this.y.equals(e.y.mul(t.mul(this.z)))?this.doubl():new h.ecc.pointJac(this.curve):(t=e.y.mul(t.mul(this.z)).subM(this.y),i=r.square(),e=t.square(),n=r.square().mul(r).addM(this.x.add(this.x).mul(i)),e=e.subM(n),t=this.x.mul(i).subM(e).mul(t),i=this.y.mul(r.square().mul(r)),t=t.subM(i),r=this.z.mul(r),new h.ecc.pointJac(this.curve,e,t,r)))},doubl:function(){if(this.isIdentity)return this;var e=this.y.square(),t=e.mul(this.x.mul(4)),r=e.square().mul(8),e=this.z.square(),i=""+this.curve.a==""+new h.bn(-3)?this.x.sub(e).mul(3).mul(this.x.add(e)):this.x.square().mul(3).add(e.square().mul(this.curve.a)),e=i.square().subM(t).subM(t),t=t.sub(e).mul(i).subM(r),r=this.y.add(this.y).mul(this.z);return new h.ecc.pointJac(this.curve,e,t,r)},toAffine:function(){if(this.isIdentity||this.z.equals(0))return new h.ecc.point(this.curve);var e=this.z.inverse(),t=e.square();return new h.ecc.point(this.curve,this.x.mul(t).fullReduce(),this.y.mul(t.mul(e)).fullReduce())},mult:function(e,t){"number"==typeof e?e=[e]:e.limbs!==o&&(e=e.normalize().limbs);var r,i,n=new h.ecc.point(this.curve).toJac(),s=t.multiples();for(r=e.length-1;r>=0;r--)for(i=h.bn.prototype.radix-4;i>=0;i-=4)n=n.doubl().doubl().doubl().doubl().add(s[15&e[r]>>i]);return n},mult2:function(e,t,r,i){"number"==typeof e?e=[e]:e.limbs!==o&&(e=e.normalize().limbs),"number"==typeof r?r=[r]:r.limbs!==o&&(r=r.normalize().limbs);var n,s=new h.ecc.point(this.curve).toJac();t=t.multiples();var a,c,u=i.multiples();for(i=Math.max(e.length,r.length)-1;i>=0;i--)for(a=0|e[i],c=0|r[i],n=h.bn.prototype.radix-4;n>=0;n-=4)s=s.doubl().doubl().doubl().doubl().add(t[15&a>>n]).add(u[15&c>>n]);return s},isValid:function(){var e=this.z.square(),t=e.square(),e=t.mul(e);return this.y.square().equals(this.curve.b.mul(e).add(this.x.mul(this.curve.a.mul(t).add(this.x.square()))))}},h.ecc.curve=function(e,t,r,i,n,s){this.field=e,this.r=new h.bn(t),this.a=new e(r),this.b=new e(i),this.G=new h.ecc.point(this,new e(n),new e(s))},h.ecc.curve.prototype.fromBits=function(e){var t=h.bitArray,r=-8&this.field.prototype.exponent+7;if(e=new h.ecc.point(this,this.field.fromBits(t.bitSlice(e,0,r)),this.field.fromBits(t.bitSlice(e,r,2*r))),!e.isValid())throw new h.exception.corrupt("not on the curve!");return e},h.ecc.curves={c192:new h.ecc.curve(h.bn.prime.p192,"0xffffffffffffffffffffffff99def836146bc9b1b4d22831",-3,"0x64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1","0x188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012","0x07192b95ffc8da78631011ed6b24cdd573f977a11e794811"),c224:new h.ecc.curve(h.bn.prime.p224,"0xffffffffffffffffffffffffffff16a2e0b8f03e13dd29455c5c2a3d",-3,"0xb4050a850c04b3abf54132565044b0b7d7bfd8ba270b39432355ffb4","0xb70e0cbd6bb4bf7f321390b94a03c1d356c21122343280d6115c1d21","0xbd376388b5f723fb4c22dfe6cd4375a05a07476444d5819985007e34"),c256:new h.ecc.curve(h.bn.prime.p256,"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",-3,"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b","0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296","0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),c384:new h.ecc.curve(h.bn.prime.p384,"0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973",-3,"0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef","0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7","0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f"),k192:new h.ecc.curve(h.bn.prime.p192k,"0xfffffffffffffffffffffffe26f2fc170f69466a74defd8d",0,3,"0xdb4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d","0x9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"),k224:new h.ecc.curve(h.bn.prime.p224k,"0x010000000000000000000000000001dce8d2ec6184caf0a971769fb1f7",0,5,"0xa1455b334df099df30fc28a169a467e9e47075a90f7e650eb6b7a45c","0x7e089fed7fba344282cafbd6f7e319f7c0b0bd59e2ca4bdb556d61a5"),k256:new h.ecc.curve(h.bn.prime.p256k,"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",0,7,"0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},h.ecc.P=function(e){h.ecc[e]={publicKey:function(e,t){this.f=e,this.i=e.r.bitLength(),this.A=t instanceof Array?e.fromBits(t):t,this.get=function(){var e=this.A.toBits(),t=h.bitArray.bitLength(e),r=h.bitArray.bitSlice(e,0,t/2),e=h.bitArray.bitSlice(e,t/2);return{x:r,y:e}}},secretKey:function(e,t){this.f=e,this.i=e.r.bitLength(),this.t=t,this.get=function(){return this.t.toBits()}},generateKeys:function(t,r,i){if(t===o&&(t=256),"number"==typeof t&&(t=h.ecc.curves["c"+t],t===o))throw new h.exception.invalid("no such curve");return i===o&&(i=h.bn.random(t.r,r)),r=t.G.mult(i),{pub:new h.ecc[e].publicKey(t,r),sec:new h.ecc[e].secretKey(t,i)}}}},h.ecc.P("elGamal"),h.ecc.elGamal.publicKey.prototype={kem:function(e){e=h.bn.random(this.f.r,e);var t=this.f.G.mult(e).toBits();return{key:h.hash.sha256.hash(this.A.mult(e).toBits()),tag:t}}},h.ecc.elGamal.secretKey.prototype={unkem:function(e){return h.hash.sha256.hash(this.f.fromBits(e).mult(this.t).toBits())},dh:function(e){return h.hash.sha256.hash(e.A.mult(this.t).toBits())}},h.ecc.P("ecdsa"),h.ecc.ecdsa.secretKey.prototype={sign:function(e,t,r,i){h.bitArray.bitLength(e)>this.i&&(e=h.bitArray.clamp(e,this.i));var n=this.f.r,s=n.bitLength();return i=i||h.bn.random(n.sub(1),t).add(1),t=this.f.G.mult(i).x.mod(n),e=h.bn.fromBits(e).add(t.mul(this.t)),r=r?e.inverseMod(n).mul(i).mod(n):e.mul(i.inverseMod(n)).mod(n),h.bitArray.concat(t.toBits(s),r.toBits(s))}},h.ecc.ecdsa.publicKey.prototype={verify:function(e,t,r){h.bitArray.bitLength(e)>this.i&&(e=h.bitArray.clamp(e,this.i));var i=h.bitArray,n=this.f.r,s=this.i,a=h.bn.fromBits(i.bitSlice(t,0,s)),i=h.bn.fromBits(i.bitSlice(t,s,2*s)),u=r?i:i.inverseMod(n),s=h.bn.fromBits(e).mul(u).mod(n),u=a.mul(u).mod(n),s=this.f.G.mult2(s,u,this.A).x;if(a.equals(0)||i.equals(0)||a.greaterEquals(n)||i.greaterEquals(n)||!s.equals(a)){if(r===o)return this.verify(e,t,c);throw new h.exception.corrupt("signature didn't check out")}return c}},AeroGear.Pipeline=function(e){return this instanceof AeroGear.Pipeline?(AeroGear.Core.call(this),this.config=e||{},this.lib="Pipeline",this.type=e?e.type||"Rest":"Rest",this.collectionName="pipes",this.add(e),t):new AeroGear.Pipeline(e)},AeroGear.Pipeline.prototype=AeroGear.Core,AeroGear.Pipeline.constructor=AeroGear.Pipeline,AeroGear.Pipeline.adapters={},AeroGear.Pipeline.adapters.Rest=function(e,r){if(!(this instanceof AeroGear.Pipeline.adapters.Rest))return new AeroGear.Pipeline.adapters.Rest(e,r);r=r||{};var i=r.endpoint||e,n={url:r.baseURL?r.baseURL+i:i,contentType:r.contentType||"application/json",dataType:r.dataType||"json"},s=r.recordId||"id",a=r.authenticator||null,o=r.pageConfig,c=r.timeout?1e3*r.timeout:6e4;this.getAjaxSettings=function(){return n},this.getAuthenticator=function(){return a},this.getRecordId=function(){return s},this.getTimeout=function(){return c},this.getPageConfig=function(){return o},this.updatePageConfig=function(e,t){t?(o={},o.metadataLocation=e.metadataLocation?e.metadataLocation:"webLinking",o.previousIdentifier=e.previousIdentifier?e.previousIdentifier:"previous",o.nextIdentifier=e.nextIdentifier?e.nextIdentifier:"next",o.parameterProvider=e.parameterProvider?e.parameterProvider:null):jQuery.extend(o,e)},o&&this.updatePageConfig(o,!0),this.webLinkingPageParser=function(e){var r,i,n,s,a,c={};i=e.getResponseHeader("Link").split(",");for(var u in i){r=i[u].trim().split(";");for(var h in r)n=r[h].trim(),0===n.indexOf("<")&&n.lastIndexOf(">")===r[h].length-1?s=n.substr(1,n.length-2).split("?")[1]:0===n.indexOf("rel=")&&(n.indexOf(o.previousIdentifier)>=0?a=o.previousIdentifier:n.indexOf(o.nextIdentifier)>=0&&(a=o.nextIdentifier));
a&&(c[a]=s,a=t)}return c},this.headerPageParser=function(e){var t=e.getResponseHeader(o.previousIdentifier),r=e.getResponseHeader(o.nextIdentifier),i={},n={};return o.parameterProvider?(i=o.parameterProvider(e),n[o.previousIdentifier]=i[o.previousIdentifier],n[o.nextIdentifier]=i[o.nextIdentifier]):(n[o.previousIdentifier]=t?t.split("?")[1]:null,n[o.nextIdentifier]=r?r.split("?")[1]:null),n},this.bodyPageParser=function(e){var t={},r={};return o.parameterProvider?(r=o.parameterProvider(e),t[o.previousIdentifier]=r[o.previousIdentifier],t[o.nextIdentifier]=r[o.nextIdentifier]):(t[o.previousIdentifier]=e[o.previousIdentifier],t[o.nextIdentifier]=e[o.nextIdentifier]),t},this.formatJSONError=function(e){if("json"===this.getAjaxSettings().dataType)try{e.responseJSON=JSON.parse(e.responseText)}catch(t){}return e}},AeroGear.Pipeline.adapters.Rest.prototype.read=function(e){var r,i,n,s,a=this,o=this.getRecordId(),c=this.getAjaxSettings(),u=this.getPageConfig();if(e=e?e:{},e.query=e.query?e.query:{},r=e[o]?c.url+"/"+e[o]:c.url,u&&e.paging!==!1){e.paging||(e.paging={offset:e.offsetValue||0,limit:e.limitValue||10}),e.query=e.query||{};for(var h in e.paging)e.query[h]=e.paging[h]}return i=function(r,i,n){var s;u&&e.paging!==!1&&(s=a[u.metadataLocation+"PageParser"]("body"===u.metadataLocation?r:n),["previous","next"].forEach(function(i){r[i]=function(e,r,i){return function(n){return i.paging=!0,i.offsetValue=i.limitValue=t,i.query=r,i.success=n&&n.success?n.success:i.success,i.error=n&&n.error?n.error:i.error,e.read(i)}}(a,s[u[i+"Identifier"]],e)})),e.success&&e.success.apply(this,arguments)},n=function(t){t=a.formatJSONError(t),e.error&&e.error.apply(this,arguments)},s={type:"GET",data:e.query,success:i,error:n,url:r,statusCode:e.statusCode,complete:e.complete,headers:e.headers,timeout:this.getTimeout()},e.jsonp&&(s.dataType="jsonp",s.jsonp=e.jsonp.callback?e.jsonp.callback:"callback",e.jsonp.customCallback&&(s.jsonpCallback=e.jsonp.customCallback)),jQuery.ajax(jQuery.extend({},this.getAjaxSettings(),s))},AeroGear.Pipeline.adapters.Rest.prototype.save=function(t,r){var i,n,s,a,o,c,u,h=this,f=this.getRecordId(),l=this.getAjaxSettings();if(t=t||{},r=r||{},i=t[f]?"PUT":"POST",n=t[f]?l.url+"/"+t[f]:l.url,s=function(){r.success&&r.success.apply(this,arguments)},a=function(e){e=h.formatJSONError(e),r.error&&r.error.apply(this,arguments)},o=jQuery.extend({},l,{data:t,type:i,url:n,success:s,error:a,statusCode:r.statusCode,complete:r.complete,headers:r.headers,timeout:this.getTimeout()}),"FormData"in e){c=new FormData;for(u in t)c.append(u,t[u]),(t[u]instanceof File||t[u]instanceof Blob)&&(o.contentType=!1,o.processData=!1);o.contentType===!1&&(o.data=c),o.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(){r.progress&&r.progress.apply(this,arguments)},!1),e}}return"application/json"===o.contentType&&o.data&&"string"!=typeof o.data&&(o.data=JSON.stringify(o.data)),jQuery.ajax(jQuery.extend({},this.getAjaxSettings(),o))},AeroGear.Pipeline.adapters.Rest.prototype.remove=function(e,t){var r,i,n,s,a,o=this,c=this.getRecordId(),u=this.getAjaxSettings(),h="";return"string"==typeof e||"number"==typeof e?r=e:e&&e[c]?r=e[c]:e&&!t&&(t=e),t=t||{},h=r?"/"+r:"",i=u.url+h,n=function(){t.success&&t.success.apply(this,arguments)},s=function(e){e=o.formatJSONError(e),t.error&&t.error.apply(this,arguments)},a={type:"DELETE",url:i,success:n,error:s,statusCode:t.statusCode,complete:t.complete,headers:t.headers,timeout:this.getTimeout()},jQuery.ajax(jQuery.extend({},u,a))},AeroGear.DataManager=function(e){return this instanceof AeroGear.DataManager?(AeroGear.Core.call(this),this.lib="DataManager",this.type=e?e.type||"Memory":"Memory",this.collectionName="stores",this.add(e),t):new AeroGear.DataManager(e)},AeroGear.DataManager.prototype=AeroGear.Core,AeroGear.DataManager.constructor=AeroGear.DataManager,AeroGear.DataManager.adapters={},AeroGear.DataManager.STATUS_NEW=1,AeroGear.DataManager.STATUS_MODIFIED=2,AeroGear.DataManager.STATUS_REMOVED=0,AeroGear.DataManager.adapters.Memory=function(e,t){if(!(this instanceof AeroGear.DataManager.adapters.Memory))return new AeroGear.DataManager.adapters.Memory(e,t);t=t||{};var r=t.recordId?t.recordId:"id",i=null;this.getRecordId=function(){return r},this.getData=function(){return i},this.setData=function(e){i=e},this.emptyData=function(){i=null},this.addDataRecord=function(e){i=i||[],i.push(e)},this.updateDataRecord=function(e,t){i[e]=t},this.removeDataRecord=function(e){i.splice(e,1)},this.traverseObjects=function(e,t,r){for(;"object"==typeof t&&r;)e=Object.keys(t)[0],t=t[e],r=r[e];return t===r?!0:!1}},AeroGear.DataManager.adapters.Memory.prototype.read=function(e){var t={};return t[this.getRecordId()]=e,e?this.filter(t):this.getData()},AeroGear.DataManager.adapters.Memory.prototype.save=function(e,t){var r=!1;if(e=AeroGear.isArray(e)?e:[e],t)this.setData(e);else if(this.getData())for(var i=0;e.length>i;i++){for(var n in this.getData())if(this.getData()[n][this.getRecordId()]===e[i][this.getRecordId()]){this.updateDataRecord(n,e[i]),r=!0;break}r||this.addDataRecord(e[i]),r=!1}else this.setData(e);return this.getData()},AeroGear.DataManager.adapters.Memory.prototype.remove=function(e){if(!e)return this.emptyData(),this.getData();e=AeroGear.isArray(e)?e:[e];for(var t,r,i,n=0;e.length>n;n++){if("string"==typeof e[n]||"number"==typeof e[n])t=e[n];else{if(!e)continue;t=e[n][this.getRecordId()]}r=this.getData(!0);for(i in r)r[i][this.getRecordId()]===t&&this.removeDataRecord(i)}return this.getData()},AeroGear.DataManager.adapters.Memory.prototype.filter=function(e,t){var r,i,n,s,a,o=this;return r=e?this.getData().filter(function(r){var c,u,h=t?!1:!0,f=Object.keys(e);for(i=0;f.length>i;i++){if(e[f[i]].data)for(c=e[f[i]],u=c.matchAny?!1:!0,n=0;c.data.length>n;n++)if(AeroGear.isArray(r[f[i]]))if(r[f[i]].length){if(0===jQuery(r[f]).not(c.data).length&&0===jQuery(c.data).not(r[f]).length){u=!0;break}for(s=0;r[f[i]].length>s;s++){if(c.matchAny&&c.data[n]===r[f[i]][s]){if(u=!0,t)break;for(a=0;r[f[i]].length>a;a++)if(!t&&c.data[n]!==r[f[i]][a]){u=!1;break}}if(!c.matchAny&&c.data[n]!==r[f[i]][s]){u=!1;break}}}else u=!1;else if("object"==typeof c.data[n]){if(c.matchAny&&o.traverseObjects(f[i],c.data[n],r[f[i]])){u=!0;break}if(!c.matchAny&&!o.traverseObjects(f[i],c.data[n],r[f[i]])){u=!1;break}}else{if(c.matchAny&&c.data[n]===r[f[i]]){u=!0;break}if(!c.matchAny&&c.data[n]!==r[f[i]]){u=!1;break}}else if(AeroGear.isArray(r[f[i]]))if(u=t?!1:!0,r[f[i]].length)for(n=0;r[f[i]].length>n;n++){if(t&&e[f[i]]===r[f[i]][n]){u=!0;break}if(!t&&e[f[i]]!==r[f[i]][n]){u=!1;break}}else u=!1;else u="object"==typeof e[f[i]]?o.traverseObjects(f[i],e[f[i]],r[f[i]]):e[f[i]]===r[f[i]]?!0:!1;if(t&&u){h=!0;break}if(!t&&!u){h=!1;break}}return h}):this.getData()||[]},AeroGear.DataManager.adapters.SessionLocal=function(t,r){if(!(this instanceof AeroGear.DataManager.adapters.SessionLocal))return new AeroGear.DataManager.adapters.SessionLocal(t,r);AeroGear.DataManager.adapters.Memory.apply(this,arguments);var i=r.storageType||"sessionStorage",n=t,s=document.location.pathname.replace(/[\/\.]/g,"-"),a=n+s,o=e[i].getItem(a),c=o?JSON.parse(o):null;c&&AeroGear.DataManager.adapters.Memory.prototype.save.call(this,c,!0),this.getStoreType=function(){return i},this.getStoreKey=function(){return a}},AeroGear.DataManager.adapters.SessionLocal.prototype=Object.create(new AeroGear.DataManager.adapters.Memory,{save:{value:function(t,r){var i=r&&r.reset?r.reset:!1,n=e[this.getStoreType()].getItem(this.getStoreKey()),s=AeroGear.DataManager.adapters.Memory.prototype.save.apply(this,[arguments[0],i]);try{e[this.getStoreType()].setItem(this.getStoreKey(),JSON.stringify(s)),r&&r.storageSuccess&&r.storageSuccess(s)}catch(a){if(n=n?JSON.parse(n):[],s=AeroGear.DataManager.adapters.Memory.prototype.save.apply(this,[n,!0]),!r||!r.storageError)throw a;r.storageError(a,t)}return s},enumerable:!0,configurable:!0,writable:!0},remove:{value:function(){var t=AeroGear.DataManager.adapters.Memory.prototype.remove.apply(this,arguments);return e[this.getStoreType()].setItem(this.getStoreKey(),JSON.stringify(t)),t},enumerable:!0,configurable:!0,writable:!0}}),AeroGear.Auth=function(e){return this instanceof AeroGear.Auth?(AeroGear.Core.call(this),this.lib="Auth",this.type=e?e.type||"Rest":"Rest",this.collectionName="modules",this.add(e),t):new AeroGear.Auth(e)},AeroGear.Auth.prototype=AeroGear.Core,AeroGear.Auth.constructor=AeroGear.Auth,AeroGear.Auth.adapters={},AeroGear.Auth.adapters.Rest=function(e,t){if(!(this instanceof AeroGear.Auth.adapters.Rest))return new AeroGear.Auth.adapters.Rest(e,t);t=t||{};var r=t.endpoints||{},i=e,n=t.baseURL||"";this.getSettings=function(){return t},this.getEndpoints=function(){return r},this.getName=function(){return i},this.getBaseURL=function(){return n},this.processOptions=function(e){var t={};return e.contentType&&(t.contentType=e.contentType),e.dataType&&(t.dataType=e.dataType),t.url=e.baseURL?e.baseURL:n,t}},AeroGear.Auth.adapters.Rest.prototype.enroll=function(e,t){t=t||{};var r=(this.getName(),this.getEndpoints()),i=function(){t.success&&t.success.apply(this,arguments)},n=function(e,r,i){var n;try{e.responseJSON=JSON.parse(e.responseText),n=[e,r,i]}catch(s){n=arguments}t.error&&t.error.apply(this,n)},s=jQuery.extend({},this.processOptions(t),{complete:t.complete,success:i,error:n,data:e});return s.url+=r.enroll?r.enroll:"auth/enroll","application/json"===s.contentType&&s.data&&"string"!=typeof s.data&&(s.data=JSON.stringify(s.data)),jQuery.ajax(jQuery.extend({},this.getSettings(),{type:"POST"},s))},AeroGear.Auth.adapters.Rest.prototype.login=function(e,t){t=t||{};var r=(this.getName(),this.getEndpoints()),i=function(){t.success&&t.success.apply(this,arguments)},n=function(e,r,i){var n;try{e.responseJSON=JSON.parse(e.responseText),n=[e,r,i]}catch(s){n=arguments}t.error&&t.error.apply(this,n)},s=jQuery.extend({},this.processOptions(t),{complete:t.complete,success:i,error:n,data:e});return s.url+=r.login?r.login:"auth/login","application/json"===s.contentType&&s.data&&"string"!=typeof s.data&&(s.data=JSON.stringify(s.data)),jQuery.ajax(jQuery.extend({},this.getSettings(),{type:"POST"},s))},AeroGear.Auth.adapters.Rest.prototype.logout=function(e){e=e||{};var t=(this.getName(),this.getEndpoints()),r=function(){e.success&&e.success.apply(this,arguments)},i=function(t,r,i){var n;try{t.responseJSON=JSON.parse(t.responseText),n=[t,r,i]}catch(s){n=arguments}e.error&&e.error.apply(this,n)},n=jQuery.extend({},this.processOptions(e),{complete:e.complete,success:r,error:i});return n.url+=t.logout?t.logout:"auth/logout",jQuery.ajax(jQuery.extend({},this.getSettings(),{type:"POST"},n))},AeroGear.Notifier=function(e){return this instanceof AeroGear.Notifier?(AeroGear.Core.call(this),this.lib="Notifier",this.type=e?e.type||"vertx":"vertx",this.collectionName="clients",this.add(e),t):new AeroGear.Notifier(e)},AeroGear.Notifier.prototype=AeroGear.Core,AeroGear.Notifier.constructor=AeroGear.Notifier,AeroGear.Notifier.adapters={},AeroGear.Notifier.CONNECTING=0,AeroGear.Notifier.CONNECTED=1,AeroGear.Notifier.DISCONNECTING=2,AeroGear.Notifier.DISCONNECTED=3,AeroGear.Notifier.adapters.SimplePush=function(e,t){if(!(this instanceof AeroGear.Notifier.adapters.SimplePush))return new AeroGear.Notifier.adapters.SimplePush(e,t);t=t||{};var r=e,i=t.connectURL||"",n=t.useNative||!1,s=null,a=JSON.parse(localStorage.getItem("ag-push-store")||"{}");a.channels=a.channels||[];for(var o in a.channels)a.channels[o].state="available";localStorage.setItem("ag-push-store",JSON.stringify(a)),this.getSettings=function(){return t},this.getName=function(){return r},this.getConnectURL=function(){return i},this.setConnectURL=function(e){i=e},this.getUseNative=function(){return n},this.getClient=function(){return s},this.setClient=function(e){s=e},this.getPushStore=function(){return a},this.setPushStore=function(e){a=e,localStorage.setItem("ag-push-store",JSON.stringify(e))},this.processMessage=function(e){var t,r;if("register"===e.messageType&&200===e.status)t={channelID:e.channelID,version:e.version,state:"used"},a.channels=this.updateChannel(a.channels,t),this.setPushStore(a),t.pushEndpoint=e.pushEndpoint,jQuery(navigator.push).trigger(jQuery.Event(e.channelID+"-success",{target:{result:t}}));else{if("register"===e.messageType)throw"SimplePushRegistrationError";if("unregister"===e.messageType&&200===e.status)a.channels.splice(this.findChannelIndex(a.channels,"channelID",e.channelID),1),this.setPushStore(a);else{if("unregister"===e.messageType)throw"SimplePushUnregistrationError";if("notification"===e.messageType){r=e.updates;for(var i=0,n=r.length;n>i;i++)jQuery(navigator.push).trigger(jQuery.Event("push",{message:r[i]}));e.messageType="ack",s.send(JSON.stringify(e))}}}},this.generateHello=function(){var e=a.channels,t={messageType:"hello",uaid:"",channelIDs:[]};if(a.uaid&&(t.uaid=a.uaid),e&&""!==t.uaid)for(var r=e.length,i=r-1;i>-1;i--)t.channelIDs.push(a.channels[i].channelID);return JSON.stringify(t)},this.findChannelIndex=function(e,t,r){for(var i=0;e.length>i;i++)if(e[i][t]===r)return i},this.updateChannel=function(e,t){for(var r=0;e.length>r;r++)if(e[r].channelID===t.channelID){e[r].version=t.version,e[r].state=t.state;break}return e},this.bindSubscribeSuccess=function(e,t){jQuery(navigator.push).off(e+"-success"),jQuery(navigator.push).on(e+"-success",function(e){t.onsuccess(e)})}},AeroGear.Notifier.adapters.SimplePush.prototype.connect=function(e){e=e||{};var t=this,r=this.getUseNative()?new WebSocket(e.url||this.getConnectURL()):new SockJS(e.url||this.getConnectURL());r.onopen=function(){r.send(t.generateHello())},r.onerror=function(){e.onConnectError&&e.onConnectError.apply(this,arguments)},r.onmessage=function(r){var i=t.getPushStore();r=JSON.parse(r.data),"hello"===r.messageType?(r.uaid!==i.uaid&&(i.uaid=r.uaid,t.setPushStore(i)),e.onConnect&&e.onConnect(r)):t.processMessage(r)},r.onclose=function(){e.onClose&&e.onClose.apply(this,arguments)},this.setClient(r)},AeroGear.Notifier.adapters.SimplePush.prototype.disconnect=function(e){var t=this.getClient();t.close(),e&&e()},AeroGear.Notifier.adapters.SimplePush.prototype.subscribe=function(e,r){var i,n,s=!1,a=this.getClient(),o=this.getPushStore();r&&this.unsubscribe(this.getChannels()),e=AeroGear.isArray(e)?e:[e],o.channels=o.channels||[],n=o.channels.length;for(var c=0;e.length>c;c++)n&&(i=this.findChannelIndex(o.channels,"state","available"),i!==t&&(this.bindSubscribeSuccess(o.channels[i].channelID,e[c].requestObject),e[c].channelID=o.channels[i].channelID,e[c].state="used",setTimeout(function(e){return function(){jQuery(navigator.push).trigger(jQuery.Event(e.channelID+"-success",{target:{result:e}}))}}(e[c]),0),o.channels[i]=e[c],s=!0)),s||(e[c].channelID=e[c].channelID||uuid(),e[c].state="used",this.bindSubscribeSuccess(e[c].channelID,e[c].requestObject),a.send('{"messageType": "register", "channelID": "'+e[c].channelID+'"}'),o.channels.push(e[c])),s=!1;this.setPushStore(o)},AeroGear.Notifier.adapters.SimplePush.prototype.unsubscribe=function(e){var t=this.getClient();e=AeroGear.isArray(e)?e:[e];for(var r=0;e.length>r;r++)t.send('{"messageType": "unregister", "channelID": "'+e[r].channelID+'"}')},AeroGear.Notifier.adapters.vertx=function(e,t){if(!(this instanceof AeroGear.Notifier.adapters.vertx))return new AeroGear.Notifier.adapters.vertx(e,t);t=t||{};var r=t.channels||[],i=!!t.autoConnect||r.length,n=t.connectURL||"",s=AeroGear.Notifier.CONNECTING,a=null;this.getConnectURL=function(){return n},this.setConnectURL=function(e){n=e},this.getChannels=function(){return r},this.addChannel=function(e){r.push(e)},this.getChannelIndex=function(e){for(var t=0;r.length>t;t++)if(r[t].address===e)return t;return-1},this.removeChannel=function(e){var t=this.getChannelIndex(e.address);t>=0&&r.splice(t,1)},this.getState=function(){return s},this.setState=function(e){s=e},this.getBus=function(){return a},this.setBus=function(e){a=e},(i||r.length)&&this.connect({url:n,onConnect:t.onConnect,onDisconnect:t.onDisconnect,onConnectError:t.onConnectError})},AeroGear.Notifier.adapters.vertx.prototype.connect=function(e){e=e||{};var t=this,r=new vertx.EventBus(e.url||this.getConnectURL());r.onopen=function(){var r=t.getChannels().slice(0);t.setState(AeroGear.Notifier.CONNECTED),t.subscribe(r,!0),e.onConnect&&e.onConnect.apply(this,arguments)},r.onclose=function(){t.getState()===AeroGear.Notifier.DISCONNECTING?(t.setState(AeroGear.Notifier.DISCONNECTED),e.onDisconnect&&e.onDisconnect.apply(this,arguments)):e.onConnectError&&e.onConnectError.apply(this,arguments)},this.setBus(r)},AeroGear.Notifier.adapters.vertx.prototype.disconnect=function(){var e=this.getBus();this.getState()===AeroGear.Notifier.CONNECTED&&(this.setState(AeroGear.Notifier.DISCONNECTING),e.close())},AeroGear.Notifier.adapters.vertx.prototype.subscribe=function(e,t){var r=this.getBus();t&&this.unsubscribe(this.getChannels()),e=AeroGear.isArray(e)?e:[e];for(var i=0;e.length>i;i++)this.addChannel(e[i]),r.registerHandler(e[i].address,e[i].callback)},AeroGear.Notifier.adapters.vertx.prototype.unsubscribe=function(e){var t=this.getBus();e=AeroGear.isArray(e)?e:[e];for(var r=0;e.length>r;r++)this.removeChannel(e[r]),t.unregisterHandler(e[r].address,e[r].callback)},AeroGear.Notifier.adapters.vertx.prototype.send=function(e,t,r){var i=this.getBus();typeof t!==Boolean||r||(r=t,t=""),t=t||"",i[r?"publish":"send"](e,t)},AeroGear.Notifier.adapters.stompws=function(e,t){if(!(this instanceof AeroGear.Notifier.adapters.stompws))return new AeroGear.Notifier.adapters.stompws(e,t);t=t||{};var r=t.channels||[],i=!!t.autoConnect||r.length,n=t.connectURL||"",s=AeroGear.Notifier.CONNECTING,a=null;this.getConnectURL=function(){return n},this.setConnectURL=function(e){n=e},this.getChannels=function(){return r},this.addChannel=function(e){r.push(e)},this.getChannelIndex=function(e){for(var t=0;r.length>t;t++)if(r[t].address===e)return t;return-1},this.removeChannel=function(e){var t=this.getChannelIndex(e.address);t>=0&&r.splice(t,1)},this.getState=function(){return s},this.setState=function(e){s=e},this.getClient=function(){return a},this.setClient=function(e){a=e},!i&&!r.length||t.login||t.password||this.connect({url:n,onConnect:t.onConnect,onConnectError:t.onConnectError})},AeroGear.Notifier.adapters.stompws.prototype.connect=function(e){e=e||{};var t=this,r=new Stomp.client(e.url||this.getConnectURL(),e.protocol||"v11.stomp"),i=function(){var r=t.getChannels().slice(0);t.setState(AeroGear.Notifier.CONNECTED),t.subscribe(r,!0),e.onConnect&&e.onConnect.apply(this,arguments)},n=function(){t.setState(AeroGear.Notifier.DISCONNECTED),e.onConnectError&&e.onConnectError.apply(this,arguments)};r.connect(e.login,e.password,i,n,e.host),this.setClient(r)},AeroGear.Notifier.adapters.stompws.prototype.disconnect=function(e){var t=this,r=this.getClient(),i=function(){t.getState()===AeroGear.Notifier.DISCONNECTING&&(t.setState(AeroGear.Notifier.DISCONNECTED),e&&e.apply(this,arguments))};this.getState()===AeroGear.Notifier.CONNECTED&&(this.setState(AeroGear.Notifier.DISCONNECTING),r.disconnect(i))},AeroGear.Notifier.adapters.stompws.prototype.subscribe=function(e,t){var r=this.getClient();t&&this.unsubscribe(this.getChannels()),e=AeroGear.isArray(e)?e:[e];for(var i=0;e.length>i;i++)e[i].id=r.subscribe(e[i].address,e[i].callback),this.addChannel(e[i])},AeroGear.Notifier.adapters.stompws.prototype.unsubscribe=function(e){var t=this.getClient();e=AeroGear.isArray(e)?e:[e];for(var r=0;e.length>r;r++)t.unsubscribe(e[r].id),this.removeChannel(e[r])},AeroGear.Notifier.adapters.stompws.prototype.send=function(e,t){var r={},i=this.getClient();t=t||"",t.headers&&(r=t.headers,t=t.body),i.send(e,r,t)},function(r,i){r.UnifiedPushClient=function(n,s,a){if(!n||!s||!a)throw"UnifiedPushClientException";return this instanceof r.UnifiedPushClient?(this.registerWithPushServer=function(t){t=t||{};var r=t.metadata||{};if(!r.deviceToken)throw"UnifiedPushRegistrationException";if("broadcast"!==r.category&&!r.alias)throw"UnifiedPushRegistrationException";return i.ajax({contentType:"application/json",dataType:"json",type:"POST",url:a,headers:{Authorization:"Basic "+e.btoa(n+":"+s)},data:JSON.stringify(r),success:t.success,error:t.error,complete:t.complete})},this.unregisterWithPushServer=function(t,r){return r=r||{},i.ajax({contentType:"application/json",dataType:"json",type:"DELETE",url:a+"/"+t,headers:{Authorization:"Basic "+e.btoa(n+":"+s)},data:JSON.stringify({deviceToken:t}),success:r.success,error:r.error,complete:r.complete})},t):new r.UnifiedPushClient(n,s,a)}}(AeroGear,jQuery),function(t,r){t.SimplePushClient=function(i){if(!(this instanceof t.SimplePushClient))return new t.SimplePushClient(i);if(this.options=i||{},!navigator.push||!this.options.useNative){if(this.options.useNative)if("WebSocket"in e)this.options.simplePushServerURL="wss://push.services.mozilla.com";else{if(!this.options.simplePushServerURL)throw"SimplePushConfigurationError";this.options.useNative=!1}var n=this,s={onConnect:function(){navigator.push=function(){return{register:function(){var e={onsuccess:function(){}};if(!n.simpleNotifier)throw"SimplePushConnectionError";return n.simpleNotifier.subscribe({requestObject:e,callback:function(e){r(navigator.push).trigger({type:"push",message:e})}}),e},unregister:function(e){n.simpleNotifier.unsubscribe(e)},reconnect:function(){n.simpleNotifier.connect(s)}}}(),navigator.setMessageHandler=function(e,t){r(navigator.push).on(e,function(e){var r=e.message;t.call(this,r)})},n.options.onConnect&&n.options.onConnect()},onClose:function(){n.simpleNotifier.disconnect(n.options.onClose)}};n.simpleNotifier=t.Notifier({name:"agPushNetwork",type:"SimplePush",settings:{connectURL:n.options.simplePushServerURL,useNative:n.options.useNative}}).clients.agPushNetwork,n.simpleNotifier.connect(s)}}}(AeroGear,jQuery),AeroGear.crypto={},AeroGear.crypto.deriveKey=function(e){var t=h.codec.hex,r=new h.prng(12),i=2048;return h.misc.pbkdf2(e,t.fromBits(r),i)},AeroGear.crypto.encrypt=function(e){e=e||{};var t=h.mode.gcm,r=new h.cipher.aes(e.key);return t.encrypt(r,e.data,e.IV,e.aad,128)},AeroGear.crypto.decrypt=function(e){e=e||{};var t=h.mode.gcm,r=new h.cipher.aes(e.key);return t.decrypt(r,e.data,e.IV,e.aad,128)},AeroGear.crypto.hash=function(e){return h.hash.sha256.hash(e)},AeroGear.crypto.sign=function(e){e=e||{};var t=e.keys||h.ecc.ecdsa.generateKeys(192),r=h.hash.sha256.hash(e.message);return t.sec.sign(r)},AeroGear.crypto.verify=function(e){e=e||{};var t=h.hash.sha256.hash(e.message);return e.keys.pub.verify(t,e.signature)}})(this);
//@ sourceMappingURL=aerogear.js.map